openapi: "3.1.0"
info:
  title: indestructibleeco API
  version: "1.0.0"
  description: Primary REST + WebSocket API for the indestructibleeco platform
servers:
  - url: http://localhost:3000
    description: Local development
paths:
  /health:
    get:
      summary: Liveness check
      responses:
        "200": { description: OK }
  /auth/login:
    post:
      summary: Email/password login
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email: { type: string }
                password: { type: string }
              required: [email, password]
      responses:
        "200":
          description: JWT token pair
  /api/v1/yaml/generate:
    post:
      summary: Generate .qyaml from module descriptor
      security: [{ bearerAuth: [] }]
      responses:
        "200": { description: Generated qyaml document }
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
