# IndestructibleEco Prometheus Configuration
# URI: indestructibleeco://ecosystem/monitoring/prometheus
# Generated by: yaml-toolkit-v1

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: indestructibleeco-production
    environment: production

rule_files:
  - "alerts/*.yml"

alerting:
  alertmanagers:
  - static_configs:
    - targets:
      - alertmanager:9093

scrape_configs:
  - job_name: "api-service"
    metrics_path: /metrics
    static_configs:
    - targets: ["api-svc.indestructibleeco.svc.cluster.local:3000"]
      labels:
        service: api
        tier: backend
        uri: "indestructibleeco://backend/api"

  - job_name: "ai-service"
    metrics_path: /metrics
    static_configs:
    - targets: ["ai-svc.indestructibleeco.svc.cluster.local:8001"]
      labels:
        service: ai
        tier: backend
        uri: "indestructibleeco://backend/ai"

  - job_name: "im-integration"
    metrics_path: /health
    static_configs:
    - targets: ["im-integration.indestructibleeco.svc.cluster.local:4000"]
      labels:
        service: im-integration
        tier: platform

  - job_name: "node-exporter"
    static_configs:
    - targets: ["node-exporter:9100"]

  - job_name: "kube-state-metrics"
    static_configs:
    - targets: ["kube-state-metrics:8080"]