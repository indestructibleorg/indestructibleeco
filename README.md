# indestructibleeco v1.0

> Enterprise cloud-native platform — mono-repository

## Quick Start

```bash
# Prerequisites: Node 20+, pnpm 9+, Docker, kubectl

# 1. Install all workspace dependencies
pnpm install

# 2. Start local infrastructure
pnpm local:up          # postgres + redis + api + ai via Docker Compose

# 3. Start observability stack (optional)
pnpm ecosystem:up      # Prometheus + Grafana + Jaeger + Consul

# 4. Start web platform in dev mode
pnpm --filter @indestructibleeco/web dev

# 5. Open Grafana at http://localhost:3030 (admin/admin)
#    Open Jaeger at http://localhost:16686
#    Open Consul at http://localhost:8500
```

## Workspace Structure

```
├── packages/              # Shared: ui-kit, api-client, shared-types
├── backend/
│   ├── api/               # Express + Socket.IO REST/WS API
│   ├── ai/                # FastAPI + gRPC AI inference service
│   │   └── engines/       # Multi-engine inference (vLLM, TGI, Ollama, etc.)
│   ├── k8s/               # Kubernetes manifests (.qyaml governance)
│   ├── shared/            # Proto definitions, shared models/utils
│   ├── supabase/          # Database migrations & RLS policies
│   └── cloudflare/        # Edge workers (webhook routing)
├── platforms/
│   ├── web/               # React SPA (Vite + TailwindCSS)
│   ├── desktop/           # Electron desktop app
│   ├── im-integration/    # WhatsApp, Telegram, LINE, Messenger bots
│   └── platform-template/ # Scaffold for new platforms
├── ecosystem/             # Prometheus, Grafana, Jaeger, Consul
├── tools/
│   ├── yaml-toolkit/      # YAML Toolkit v8 — .qyaml generator & validator
│   ├── skill-creator/     # Skill authoring & validation framework
│   └── ci-validator/      # Centralized CI validation engine (7 validators)
├── k8s/                   # Infrastructure-level K8s manifests
├── helm/                  # Helm chart for platform deployment
├── docker/                # Docker build files (standard + GPU)
├── scripts/               # Build & deploy automation
├── tests/                 # Unit, integration, e2e test suites
└── .github/workflows/     # CI/CD pipelines (validate → lint → test → build)
```

## CI/CD Pipeline

The unified CI pipeline (`.github/workflows/ci.yaml`) enforces a 4-gate quality system:

| Gate | Purpose |
|------|---------|
| **validate** | Centralized CI Validator Engine (7 validators) |
| **lint** | Python compile, JS syntax, YAML governance, skill manifests |
| **test** | Config, governance, shared utils, YAML toolkit, skill tests |
| **build** | Docker image build + repository structure verification |

## YAML Governance

All deployment manifests are auto-generated by the indestructibleeco YAML Toolkit v8.
**No hand-crafted .qyaml files in production.**

```bash
# Generate a K8s manifest from module descriptor
pnpm yaml:gen --name my-service --target k8s

# Validate an existing .qyaml file
pnpm yaml:validate --input backend/k8s/deployments/api.qyaml
```

## Environment Variables

All environment variables use the `ECO_*` prefix:

| Variable | Default | Description |
|----------|---------|-------------|
| `ECO_AI_HTTP_PORT` | 8001 | AI service HTTP port |
| `ECO_AI_GRPC_PORT` | 8000 | AI service gRPC port |
| `ECO_REDIS_URL` | redis://localhost:6379 | Redis connection |
| `ECO_VECTOR_DIM` | 1024 | Vector alignment dimension |
| `ECO_ALIGNMENT_MODEL` | quantum-bert-xxl-v1 | Default alignment model |

## Adding a new platform

```bash
cp -r platforms/platform-template platforms/platform-XX
# Edit package.json, add CI workflow, generate K8s manifest
```

## License

Internal use only — CONFIDENTIAL